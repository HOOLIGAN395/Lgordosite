<!-- Code complet avec corrections pour √©viter les erreurs null et ajout des √©l√©ments manquants -->

<!DOCTYPE html>
<html lang="fr">
<head>
  <style>
    .extra-content.visible {
      display: block;
    }
    .extra-category {
      margin-top: 1.2rem;
    }
    .extra-header {
      background-color: #2a2f3d;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .extra-content {
      padding: 0.5rem 1rem;
    }
    .extra-item {
      margin: 0.5rem 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
    }
    .quantity-btns {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: #1a1f2b;
      border-radius: 8px;
      padding: 0.2rem 0.5rem;
      min-width: 90px;
      box-shadow: 0 0 4px rgba(0,0,0,0.2);
    }
    .quantity-btns button {
      background-color: #a27c27;
      border: none;
      color: white;
      font-size: 1.3rem;
      width: 26px;
      height: 26px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      cursor: pointer;
      font-weight: bold;
    }
    .quantity {
      width: 24px;
      height: 26px;
      text-align: center;
      font-size: 0.95rem;
      line-height: 26px;
      font-weight: bold;
      color: white;
    }
    @media screen and (max-width: 600px) {
    .product {
      flex-direction: row;
      padding: 1.5rem 1.2rem !important;
    }
    .product img {
      width: 120px !important;
      height: 120px !important;
    }
    .product h3 {
      font-size: 1.4rem !important;
    }
    .product p {
      font-size: 1.1rem !important;
    }
  }
  .product {
    display: flex;
    align-items: center;
    gap: 1.2rem;
    background: #1a1f2b;
    border-radius: 16px;
    padding: 1.6rem 1.2rem;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    width: 100%;
    box-sizing: border-box;
  }
  .product-img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 10px;
  }
  .product-title {
    margin: 0;
    color: #ffd500;
    font-size: 1.2rem;
  }
  .product-description {
    margin: 0.3rem 0 0;
    font-size: 1rem;
    color: #ccc;
  }
  @media screen and (max-width: 600px) {
    .product {
      flex-direction: row;
      padding: 1.6rem 1.2rem;
    }
    .product-img {
      width: 120px;
      height: 120px;
    }
    .product-title {
      font-size: 1.4rem;
    }
    .product-description {
      font-size: 1.2rem;
    }
  }
  .extra-category {
    padding: 1rem;
    border-radius: 12px;
    background-color: #1a1f2b;
    margin-bottom: 1.2rem;
  }
  .extra-header {
    font-size: 1.1rem;
    color: white;
    background-color: #2a2f3d;
    border-radius: 8px;
    padding: 0.6rem 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
  }
  .extra-item {
    padding: 0.4rem 0;
    font-size: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: white;
  }
  @media screen and (max-width: 600px) {
    .extra-header {
      font-size: 1.3rem;
      padding: 0.8rem 1.2rem;
    }
    .extra-item {
      font-size: 1.1rem;
    }
    .quantity-btns button {
      font-size: 1.4rem;
      width: 30px;
      height: 30px;
    }
    .quantity {
      font-size: 1.1rem;
      width: 28px;
    }
  }
  .extra-name {
    font-weight: 500;
    color: white;
    flex: 1;
  }
  .extra-price {
    font-weight: bold;
    color: #ffd500;
    min-width: 60px;
    text-align: right;
  }
  .extra-qty {
    display: flex;
    align-items: center;
    gap: 0.3rem;
  }
  @media screen and (max-width: 600px) {
    .extra-name {
      font-size: 1.2rem;
    }
    .extra-price {
      font-size: 1.1rem;
    }
    .extra-qty {
      font-size: 1.2rem;
    }
  }
</style>
  
  

<body style="margin: 0; font-family: 'Quicksand', sans-serif; background-color: #0d1723; color: white; overflow-x: hidden;">
  <header style="text-align: center; padding: 2rem 0;">
    <img class="product-img" src="logo.png" alt="L'gordo Logo">
  </header>
  <nav style="display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem; padding: 1rem; background-color: #a27c27; font-size: 1.2rem;">
    <a href="#pizza" style="color: white; text-decoration: none; font-weight: bold;">üçï Pizza</a>
    <a href="#saroukh" style="color: white; text-decoration: none; font-weight: bold;">üåØ Saroukh</a>
    <a href="#pasta" style="color: white; text-decoration: none; font-weight: bold;">üçù Pasta</a>
    <a href="#deal" style="color: white; text-decoration: none; font-weight: bold;">üéÅ Deal</a>
  </nav>
  <section id="pizza" style="padding: 1rem;">
  <h2 style="color: white;">üçï Pizza</h2>
  <div class="product-grid" style="display: flex; flex-direction: column; gap: 1rem;">
  <div class="product">
    <img src="PouletAlfredo.jpg" alt="Poulet Alfredo" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">Poulet Alfredo</h3>
        <span style="font-weight: bold; color: white;">64 DH</span>
      </div>
      <p class="product-description">Poulet, oignons, poivrons, mozza</p>
    </div>
  </div>
  <div class="product">
    <img src="LaCarnivore.jpg" alt="La Carnivore" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">La Carnivore</h3>
        <span style="font-weight: bold; color: white;">75 DH</span>
      </div>
      <p class="product-description">Merguez, viande hach√©e, pepperoni</p>
    </div>
  </div>
  <div class="product">
    <img src="LAKEFTA.jpg" alt="La Kefta" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">La Kefta</h3>
        <span style="font-weight: bold; color: white;">64 DH</span>
      </div>
      <p class="product-description">Viande hach√©e, l√©gumes, mozza</p>
    </div>
  </div>
  <div class="product">
    <img src="laPepperoni.jpg" alt="La Pepperoni" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">La Pepperoni</h3>
        <span style="font-weight: bold; color: white;">64 DH</span>
      </div>
      <p class="product-description">Pepperoni, oignons, poivrons</p>
    </div>
  </div>
  <div class="product">
    <img src="latuna.jpg" alt="La Tuna" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">La Tuna</h3>
        <span style="font-weight: bold; color: white;">62 DH</span>
      </div>
      <p class="product-description">Thon, origan, mozza</p>
    </div>
  </div>
<div class="product">
    <img src="la4FROMAGES.jpg" alt="La 4 Fromages" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">La 4 Fromages</h3>
        <span style="font-weight: bold; color: white;">65 DH</span>
      </div>
      <p class="product-description">Mozzarella, bleu, gouda, emmental</p>
    </div>
  </div>
  <div class="product">
    <img src="laFum√©e.jpg" alt="La Fum√©e" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">La Fum√©e</h3>
        <span style="font-weight: bold; color: white;">64 DH</span>
      </div>
      <p class="product-description">Dinde fum√©e, oignons, champignons</p>
    </div>
  </div>
  <div class="product">
    <img src="POULETBERBECUE.jpg" alt="Poulet Barbecue" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">Poulet Barbecue</h3>
        <span style="font-weight: bold; color: white;">65 DH</span>
      </div>
      <p class="product-description">Poulet, BBQ, oignons, poivrons</p>
    </div>
  </div>
  <div class="product">
    <img src="LAMERGUEZ.jpg" alt="La Merguez" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">La Merguez</h3>
        <span style="font-weight: bold; color: white;">64 DH</span>
      </div>
      <p class="product-description">Merguez, l√©gumes, mozza</p>
    </div>
  </div>
  <div class="product">
    <img src="Pouletpesto.jpg" alt="Poulet Pesto" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">Poulet Pesto</h3>
        <span style="font-weight: bold; color: white;">105 DH</span>
      </div>
      <p class="product-description">Poulet, mozza, pesto maison</p>
    </div>
  </div>
  <div class="product">
    <img src="BiancaSupr√™me.jpg" alt="Bianca Supr√™me" class="product-img">
    <div style="flex: 1;">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3 class="product-title">Bianca Supr√™me</h3>
        <span style="font-weight: bold; color: white;">105 DH</span>
      </div>
      <p class="product-description">Poulet, fromage, pepperoni</p>
    </div>
  </div>
</div>
</section>
<!-- fin des produits pizza -->
<div id="productModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0,0,0,0.8); justify-content: center; align-items: center; z-index: 999;">
  <div class="modal-content">
    <span onclick="closeModal()" style="position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; color: white;">&times;</span>
    <img id="modalImage" src="" alt="Image du produit" style="width: 100%; height: auto; max-height: 180px; object-fit: cover; border-radius: 12px; margin-bottom: 0.5rem; box-shadow: 0 1px 4px rgba(0,0,0,0.15);">
    <h3 id="modalTitle" style="font-size: 1.2rem;">Produit</h3>
    <p id="modalPrice" style="font-size: 1.1rem; font-weight: bold; color: #ffd500;">75 DH</p>
    <p id="modalDescription">Description</p>
    
<script>
function toggleExtras(id) {
  const extraContent = document.getElementById(id);
  if (!extraContent) return;
  extraContent.style.display = (extraContent.style.display === 'none' || !extraContent.style.display) ? 'block' : 'none';
}
function adjustQty(btn, delta) {
  const quantitySpan = btn.parentElement.querySelector('.quantity');
  let current = parseInt(quantitySpan.innerText);
  let newVal = Math.max(0, current + delta);
  quantitySpan.innerText = newVal;
}
</script>
<div class="extra-category">
  <div class="extra-header" onclick="toggleExtras('sodas')">ü•§ Sodas ‚ñº</div>
  <div class="extra-content" id="sodas" style="display: none;">
    <div class="extra-item">
  <span class="extra-name">Pepsi </span>
  <span class="extra-price">10 DH</span>
  <span class="extra-qty"><button onclick="adjustQty(this, -1)">-</button><span class="quantity">0</span><button onclick="adjustQty(this, 1)">+</button></span>
</div>
    <div class="extra-item">
  <span class="extra-name">Mirinda Orange </span>
  <span class="extra-price">10 DH</span>
  <span class="extra-qty"><button onclick="adjustQty(this, -1)">-</button><span class="quantity">0</span><button onclick="adjustQty(this, 1)">+</button></span>
</div>
    <div class="extra-item">
  <span class="extra-name">Mirinda Pomme </span>
  <span class="extra-price">10 DH</span>
  <span class="extra-qty"><button onclick="adjustQty(this, -1)">-</button><span class="quantity">0</span><button onclick="adjustQty(this, 1)">+</button></span>
</div>
    <div class="extra-item">
  <span class="extra-name">Mirinda Citron </span>
  <span class="extra-price">10 DH</span>
  <span class="extra-qty"><button onclick="adjustQty(this, -1)">-</button><span class="quantity">0</span><button onclick="adjustQty(this, 1)">+</button></span>
</div>
    <div class="extra-item">
  <span class="extra-name">7up </span>
  <span class="extra-price">10 DH</span>
  <span class="extra-qty"><button onclick="adjustQty(this, -1)">-</button><span class="quantity">0</span><button onclick="adjustQty(this, 1)">+</button></span>
</div>
    <div class="extra-item">
  <span class="extra-name">Oulmes </span>
  <span class="extra-price">10 DH</span>
  <span class="extra-qty"><button onclick="adjustQty(this, -1)">-</button><span class="quantity">0</span><button onclick="adjustQty(this, 1)">+</button></span>
</div>
  </div>
</div>
<div class="extra-category">
  <div class="extra-header" onclick="toggleExtras('extras')">üßÄ Extras ‚ñº</div>
  <div class="extra-content" id="extras" style="display: none;">
    <div class="extra-item">
  <span class="extra-name"><label><input type="checkbox"> Fromage </span>
  <span class="extra-price">12 DH</label></div>
    <div class="extra-item">
  <label class="extra-name"><input type="checkbox"> Viande hach√©e</label>
  <span class="extra-price">15 DH</span>
</div>
    <div class="extra-item">
  <label class="extra-name"><input type="checkbox"> Merguez</label>
  <span class="extra-price">15 DH</span>
</div>
    <div class="extra-item">
  <label class="extra-name"><input type="checkbox"> Pepperoni</label>
  <span class="extra-price">17 DH</span>
</div>
    <div class="extra-item">
  <label class="extra-name"><input type="checkbox"> Dinde fum√©e</label>
  <span class="extra-price">15 DH</span>
</div>
  </div>
</div>
<div class="extra-category">
  <div class="extra-header" onclick="toggleExtras('desserts')">üç™ Desserts ‚ñº</div>
  <div class="extra-content" id="desserts" style="display: none;">
  <div class="extra-item">Lotus ‚Äì 25 DH</span>
  <span class="extra-qty"><button onclick="adjustQty(this, -1)">-</button><span class="quantity">0</span><button onclick="adjustQty(this, 1)">+</button></span>
</div>
  <div class="extra-item">
  <span class="extra-name">Oreo </span>
  <span class="extra-price">25 DH</span>
  <span class="extra-qty"><button onclick="adjustQty(this, -1)">-</button><span class="quantity">0</span><button onclick="adjustQty(this, 1)">+</button></span>
</div>
</div>
</div>
<div style="margin-top: auto; width: 100%; display: flex; flex-direction: column; gap: 0.5rem; padding: 1rem 0;">
  <button onclick="closeModal()" style="background-color: #444; color: white; padding: 0.6rem; font-size: 0.85rem; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Fermer</button>
  <button onclick="addToCart()" style="background-color: #a27c27; color: white; padding: 0.6rem; font-size: 0.85rem; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Ajouter au panier</button>
</div>
</div>
</div>
</div>
</div>
<div id="cart" style="position: fixed; bottom: 1rem; left: 1rem; background-color: #a27c27; padding: 0.6rem 0.9rem; border-radius: 16px; box-shadow: 0 4px 8px rgba(0,0,0,0.35); font-size: 1rem; display: flex; align-items: center; gap: 0.6rem; cursor: pointer; z-index: 1001;" onclick="openCartModal()">
    <span style="font-size: 1.3rem;">üç¥</span>
    <span style="font-weight: 600; color: white;">Mon Panier :</span>
    <span id="cartTotal" style="font-weight: bold; color: white;">0 DH</span>
  </div>

  <div id=\"cartModal\" class=\"modal\" style=\"display: none; z-index: 1002; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0,0,0,0.8); justify-content: center; align-items: center;\">
  <div class=\"modal-content\" style=\"background-color: #1e2533; padding: 1.2rem; border-radius: 16px; max-width: 95vw; width: 95%; color: white; text-align: left; max-height: 90vh; overflow-y: auto; font-size: 0.95rem;\">
      <span onclick="closeCartModal()" style="position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; color: white;">&times;</span>
      <h3 style="margin-top: 0;">üõí Mon Panier</h3>
      <ul id="cartItems" style="list-style: none; padding-left: 0; margin-bottom: 1rem; max-height: 200px; overflow-y: auto;"></ul>
      <p><strong>Total:</strong> <span id="cartModalTotal">0 DH</span></p>
      <div style="display: flex; justify-content: space-between; gap: 1rem; margin-top: 1.5rem;">
        <button onclick="closeCartModal()" style="flex: 1; background-color: #444; color: white; padding: 0.6rem; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Fermer</button>
        <a href="#" id="whatsappLink" target="_blank" style="flex: 1; background-color: #25D366; color: white; padding: 0.6rem; border-radius: 8px; text-align: center; text-decoration: none; font-weight: bold; display: inline-block;">WhatsApp</a>
      </div>
    </div>
  </div>

<script>
let cart = [];
function getSelectedExtras() {
  const extras = [];
  const sodaEls = document.querySelectorAll('#sodas .extra-item');
  sodaEls.forEach(el => {
    const label = el.textContent.split('‚Äì')[0].trim();
    const price = parseInt(el.textContent.split('‚Äì')[1]);
    const qty = parseInt(el.querySelector('.quantity').textContent);
    if (qty > 0) extras.push({ name: `ü•§ ${label}`, qty, price });
  });
  const dessertEls = document.querySelectorAll('#desserts .extra-item');
  dessertEls.forEach(el => {
    const label = el.textContent.split('‚Äì')[0].trim();
    const price = parseInt(el.textContent.split('‚Äì')[1]);
    const qty = parseInt(el.querySelector('.quantity').textContent);
    if (qty > 0) extras.push({ name: `üç™ ${label}`, qty, price });
  });
  const extraCheckEls = document.querySelectorAll('#extras input[type=checkbox]');
  extraCheckEls.forEach(el => {
    if (el.checked) {
      const label = el.parentElement.textContent.split('‚Äì')[0].trim();
      const price = parseInt(el.parentElement.textContent.split('‚Äì')[1]);
      extras.push({ name: `üßÄ ${label}`, qty: 1, price });
    }
  });
  return extras;
}
function addToCart() {
  const product = document.getElementById('modalTitle').textContent;
  const price = parseInt(document.getElementById('modalPrice').textContent);
  const existing = cart.find(item => item.name === product);
  if (existing) {
    existing.qty++;
  } else {
    cart.push({ name: product, price, qty: 1, extras: getSelectedExtras() });
  }
  updateCart();
  closeModal();
}
function updateCart() {
  const cartItems = document.getElementById('cartItems');
  const cartTotal = document.getElementById('cartTotal');
  const modalTotal = document.getElementById('cartModalTotal');
  const whatsappLink = document.getElementById('whatsappLink');
  if (!cartItems || !cartTotal || !modalTotal || !whatsappLink) return;
  cartItems.innerHTML = '';
  let total = 0;
  cart.forEach((item, index) => {
    let itemTotal = item.price * item.qty;
    if (item.extras && item.extras.length > 0) {
      item.extras.forEach(extra => {
        itemTotal += extra.price * extra.qty;
      });
    }
    total += itemTotal;
    const li = document.createElement('li');
    const container = document.createElement('div');
    container.style.display = 'flex';
    container.style.justifyContent = 'space-between';
    container.style.alignItems = 'center';
    container.style.marginBottom = '0.5rem';

    const label = document.createElement('span');
    label.textContent = `${item.name} - ${itemTotal} DH`;
    if (item.extras && item.extras.length > 0) {
      const extrasText = document.createElement('div');
      extrasText.style.fontSize = '0.8rem';
      extrasText.style.color = '#ccc';
      extrasText.textContent = item.extras.map(ex => `${ex.name} x${ex.qty}`).join(', ');
      label.appendChild(document.createElement('br'));
      label.appendChild(extrasText);
    }

    const controls = document.createElement('div');
    controls.style.display = 'flex';
    controls.style.alignItems = 'center';
    controls.style.gap = '0.3rem';

    const minusBtn = document.createElement('button');
    minusBtn.textContent = '-';
    minusBtn.style.cssText = 'padding: 0.2rem 0.5rem; background-color: #a27c27; border: none; border-radius: 6px; color: white; font-weight: bold;';
    minusBtn.onclick = () => {
      if (item.qty > 1) item.qty--;
      else cart.splice(index, 1);
      updateCart();
    };

    const qtyDisplay = document.createElement('span');
    qtyDisplay.textContent = item.qty;
    qtyDisplay.style.minWidth = '20px';
    qtyDisplay.style.textAlign = 'center';

    const plusBtn = document.createElement('button');
    plusBtn.textContent = '+';
    plusBtn.style.cssText = 'padding: 0.2rem 0.5rem; background-color: #a27c27; border: none; border-radius: 6px; color: white; font-weight: bold;';
    plusBtn.onclick = () => {
      item.qty++;
      updateCart();
    };

    controls.appendChild(minusBtn);
    controls.appendChild(qtyDisplay);
    controls.appendChild(plusBtn);

    const deleteBtn = document.createElement('button');
    deleteBtn.textContent = 'üóëÔ∏è';
    deleteBtn.title = 'Supprimer';
    deleteBtn.style.cssText = 'margin-left: 0.5rem; background-color: #ff4444; color: white; border: none; border-radius: 6px; padding: 0.2rem 0.5rem; font-weight: bold; cursor: pointer;';
    deleteBtn.onclick = () => {
      cart.splice(index, 1);
      updateCart();
    };

    controls.appendChild(deleteBtn);
    container.appendChild(label);
    container.appendChild(controls);
    li.appendChild(container);
    cartItems.appendChild(li);
  });
  cartTotal.textContent = total + ' DH';
  modalTotal.textContent = total + ' DH';
  whatsappLink.href = `https://wa.me/?text=Commande:%20${encodeURIComponent(cart.map(i => `${i.name} x${i.qty}${i.extras && i.extras.length ? ' (' + i.extras.map(ex => `${ex.name} x${ex.qty}`).join(', ') + ')' : ''}`).join(', '))}%20-%20Total:%20${total}DH`;
}
function openCartModal() {
  document.getElementById('cartModal').style.display = 'flex';
}
function closeCartModal() {
  document.getElementById('cartModal').style.display = 'none';
}
function closeModal() {
  document.getElementById('productModal').style.display = 'none';
}
function openModal(title, price, description) {
  document.getElementById('modalTitle').textContent = title;
  document.getElementById('modalPrice').textContent = price;
  document.getElementById('modalDescription').textContent = description;
  document.getElementById('modalImage').src =
    title.includes('Carnivore') ? 'LaCarnivore.jpg' :
    title.includes('Kefta') ? 'LAKEFTA.jpg' :
    title.includes('Pepperoni') ? 'laPepperoni.jpg' :
    title.includes('Tuna') ? 'latuna.jpg' :
    title.includes('4 Fromages') ? 'la4FROMAGES.jpg' :
    title.includes('Fum√©e') ? 'laFum√©e.jpg' :
    title.includes('Poulet Barbecue') ? 'POULETBERBECUE.jpg' :
    title.includes('Merguez') ? 'LAMERGUEZ.jpg' :
    title.includes('Poulet Pesto') ? 'Pouletpesto.jpg' :
    title.includes('Bianca Supr√™me') ? 'BiancaSupr√™me.jpg' :
    title.includes('Poulet Alfredo') ? 'PouletAlfredo.jpg' :
    '';
  document.getElementById('productModal').style.display = 'flex';
}
</script>
</body>
</html>
